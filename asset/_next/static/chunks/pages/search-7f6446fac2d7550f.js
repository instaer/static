(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603,44],{813:function(e,t,r){"use strict";var o=r(4836);t.Z=void 0;var n=o(r(4938)),i=r(5893),a=(0,n.default)((0,i.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.Z=a},8850:function(e,t,r){"use strict";var o=r(3366),n=r(7462),i=r(7294),a=r(512),s=r(4780),l=r(2905),c=r(8216),d=r(1657),u=r(7224),h=r(948),m=r(5893);let g=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],useUtilityClasses=e=>{let{color:t,variant:r,classes:o,size:i}=e,a={root:["root",r,`size${(0,c.Z)(i)}`,"inherit"===t?"colorInherit":t]},l=(0,s.Z)(a,u.N,o);return(0,n.Z)({},o,l)},x=(0,h.ZP)(l.Z,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,h.FO)(e)||"classes"===e,overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,c.Z)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,c.Z)(r.size)],t[r.color]]}})(({theme:e,ownerState:t})=>{var r,o;return(0,n.Z)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(r=(o=e.palette).getContrastText)?void 0:r.call(o,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${u.Z.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})},({theme:e,ownerState:t})=>(0,n.Z)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}}),({theme:e})=>({[`&.${u.Z.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),p=i.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiFab"}),{children:i,className:s,color:l="default",component:c="button",disabled:u=!1,disableFocusRipple:h=!1,focusVisibleClassName:p,size:f="large",variant:b="circular"}=r,v=(0,o.Z)(r,g),y=(0,n.Z)({},r,{color:l,component:c,disabled:u,disableFocusRipple:h,size:f,variant:b}),Z=useUtilityClasses(y);return(0,m.jsx)(x,(0,n.Z)({className:(0,a.Z)(Z.root,s),component:c,disabled:u,focusRipple:!h,focusVisibleClassName:(0,a.Z)(Z.focusVisible,p),ownerState:y,ref:t},v,{classes:Z,children:i}))});t.Z=p},7224:function(e,t,r){"use strict";r.d(t,{N:function(){return getFabUtilityClass}});var o=r(1588),n=r(4867);function getFabUtilityClass(e){return(0,n.Z)("MuiFab",e)}let i=(0,o.Z)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);t.Z=i},8298:function(e,t,r){"use strict";r.d(t,{Z:function(){return useScrollTrigger}});var o=r(7462),n=r(3366),i=r(7294);let a=["getTrigger","target"];function defaultTrigger(e,t){let{disableHysteresis:r=!1,threshold:o=100,target:n}=t,i=e.current;return n&&(e.current=void 0!==n.pageYOffset?n.pageYOffset:n.scrollTop),(!!r||void 0===i||!(e.current<i))&&e.current>o}let s="undefined"!=typeof window?window:null;function useScrollTrigger(e={}){let{getTrigger:t=defaultTrigger,target:r=s}=e,l=(0,n.Z)(e,a),c=i.useRef(),[d,u]=i.useState(()=>t(c,l));return i.useEffect(()=>{let handleScroll=()=>{u(t(c,(0,o.Z)({target:r},l)))};return handleScroll(),r.addEventListener("scroll",handleScroll,{passive:!0}),()=>{r.removeEventListener("scroll",handleScroll,{passive:!0})}},[r,t,JSON.stringify(l)]),d}},2774:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(1832)}])},1370:function(e,t,r){"use strict";var o=r(5893);r(7294);var n=r(3972),i=r(2623),a=r(1623),s=r(8492),l=r(4781),c=r(2734),d=r(5675),u=r.n(d),h=r(3379);t.Z=function(e){let t=(0,c.Z)(),{item:r}=e,d="/article/".concat(r.urlName),m=r.title.length>60?"".concat(r.title.slice(0,57),"..."):r.title,g=r.summary.length>140?"".concat(r.summary.slice(0,137),"..."):r.summary;return(0,o.jsx)(a.Z,{component:"a",href:d,sx:{mb:4},children:(0,o.jsxs)(i.Z,{sx:{display:"flex"},children:[(0,o.jsxs)(s.Z,{sx:{flex:1,height:{xs:"auto",sm:"auto"}},children:[(0,o.jsx)(n.Z,{component:"h2",marginBottom:t.spacing(2),fontWeight:"bold",sx:{fontSize:t.typography.h6.fontSize,[t.breakpoints.down("sm")]:{fontSize:"1.2rem",marginBottom:t.spacing(0)}},children:m}),(0,o.jsx)(n.Z,{color:"text.secondary",marginBottom:t.spacing(2),sx:{fontSize:"0.9rem",[t.breakpoints.down("sm")]:{display:"none"},[t.breakpoints.up("sm")]:{fontSize:"0.9rem"},[t.breakpoints.up("md")]:{fontSize:"1.1rem"}},children:g}),(0,o.jsxs)(n.Z,{marginBottom:t.spacing(1),sx:{display:"flex",alignItems:"center",color:"text.secondary",textDecoration:"underline",fontWeight:"bold",[t.breakpoints.down("sm")]:{display:"none"}},children:["READ MORE",(0,o.jsx)(h.Z,{fontSize:"inherit",color:"text.secondary"})]})]}),(0,o.jsx)(l.Z,{sx:{position:"relative",pt:"1rem",pb:"0.5rem",pr:"0.5rem",width:{xs:120,sm:160},height:{xs:160,sm:213},display:{xs:"block",sm:"block"}},children:(0,o.jsx)(u(),{src:r.coverImageUrl,alt:r.title,width:160,height:213,style:{objectFit:"cover",maxWidth:"100%",maxHeight:"100%"}})})]})})}},9044:function(e,t,r){"use strict";r.r(t);var o=r(5893);r(7294);var n=r(7357),i=r(5582),a=r(3972),s=r(7786),l=r(2734),c=r(8298),d=r(6628),u=r(8850),h=r(813),m=r(4080);let g={links:[{title:"Privacy",url:"/privacy"},{title:"Terms",url:"/terms"},{title:"Contact",url:"mailto:"+m.e.email}]};function ScrollTop(e){let{children:t}=e,r=(0,c.Z)({disableHysteresis:!0,threshold:100});return(0,o.jsx)(d.Z,{in:r,timeout:500,children:(0,o.jsx)(n.Z,{onClick:e=>{let t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");if(t){let e={block:"center",behavior:"smooth"};setTimeout(()=>{t.scrollIntoView(e)},150)}},role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:t})})}function Copyright(){return(0,o.jsxs)(a.Z,{variant:"subtitle2",align:"center",color:"#202124",gutterBottom:!0,children:["Copyright \xa9 ",(0,o.jsx)(s.Z,{color:"inherit",href:m.e.url,underline:"hover",children:m.e.title})," ",new Date().getFullYear(),"."]})}t.default=function(e){let t=(0,l.Z)(),{links:r}=g;return(0,o.jsxs)("footer",{children:[(0,o.jsx)(ScrollTop,{...e,children:(0,o.jsx)(u.Z,{size:"small","aria-label":"scroll back to top",sx:{bgcolor:"#FF9966","&:hover":{bgcolor:"#FF8533",boxShadow:e=>e.shadows[8]},"&:active":{bgcolor:"#FF8533",boxShadow:e=>e.shadows[12]}},children:(0,o.jsx)(h.Z,{})})}),(0,o.jsx)(n.Z,{component:"footer",sx:{bgcolor:"#f2f2f2",pt:2,pb:1},children:(0,o.jsxs)(i.Z,{maxWidth:"lg",children:[(0,o.jsx)(Copyright,{}),(0,o.jsx)(a.Z,{variant:"subtitle2",align:"center",component:"p",sx:{display:"flex",justifyContent:"center",gap:t.spacing(1)},children:r.map(e=>(0,o.jsx)(s.Z,{href:e.url,underline:"hover",color:"#202124",children:e.title},e.title))})]})})]})}},1832:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return SearchPage}});var o=r(5893),n=r(7294),i=r(8263),a=r(5582),s=r(2734),l=r(3454),c=r(1370),d=r(9044),u=r(3508),h=r(3972),m=r(1163),g=r(9880),x=r(7285),p=r(1812),f=r(5889),b=r(6489),v=r(4080),y=r(9008),Z=r.n(y);let j={min:2,max:64},fetchSearchByKeyword=async(e,t)=>{let{result:r,error:o}=await (0,x.D2)("api/travel-journals/search/keyword",(0,x.D4)({keyword:e,cursor:t}));return o?[]:null==r?void 0:r.body};function SearchPage(){let e=(0,s.Z)(),t=(0,m.useRouter)(),{k:r}=t.query,[x,y]=n.useState((0,o.jsx)(o.Fragment,{})),[w,S]=n.useState([]),[k,C]=n.useState(!0),[z,F]=n.useState({loading:!1,disabled:0===w.length});n.useEffect(()=>{if(r&&(0,g.Ej)(r,j.min,j.max)&&!(0,g.FU)(r)){y((0,o.jsxs)(o.Fragment,{children:["Search Results for: ",(0,o.jsx)("span",{style:{textDecoration:"underline"},children:r})]}));let fetchSearchResult=async()=>{let e=await fetchSearchByKeyword(r);C(!1),e.length>0&&S(e)};fetchSearchResult()}else C(!1)},[r]);let handleLoadMore=async()=>{let e=w[w.length-1].cursor;F({loading:!0,disabled:!0});let t=await fetchSearchByKeyword(r,e);F({loading:!1,disabled:0===t.length}),t.length>0&&S([...w,...t])};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Z(),{children:["/*禁止收录*/",(0,o.jsx)("meta",{name:"robots",content:"noindex"}),r&&(0,o.jsx)("title",{children:"".concat(r," | ").concat(v.e.title)})]}),(0,o.jsxs)(a.Z,{maxWidth:"lg",children:[(0,o.jsx)("div",{id:"back-to-top-anchor"}),(0,o.jsx)(l.Z,{}),(0,o.jsx)("main",{children:(0,o.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(i.ZP,{item:!0,xs:12,md:8,mt:2,mb:-2,children:(0,o.jsx)(h.Z,{variant:"h6",component:"h1",fontWeight:"bold",color:"textSecondary",children:x})}),(0,o.jsxs)(i.ZP,{item:!0,xs:12,md:8,children:[(0,o.jsx)(f.Z,{open:k,invisible:!0,sx:{zIndex:e=>e.zIndex.drawer+1},children:(0,o.jsx)(b.Z,{variant:"indeterminate",disableShrink:!1,sx:{color:e=>"light"===e.palette.mode?"#1a90ff":"#308fe8"},size:64,thickness:4})}),(0,o.jsx)(()=>k?(0,o.jsx)(h.Z,{variant:"h4",component:"h3",fontWeight:"bold",color:"textSecondary",children:"Loading..."}):0===w.length?(0,o.jsx)(h.Z,{variant:"h4",component:"h3",fontWeight:"bold",color:"textSecondary",children:"No results"}):w.map(e=>(0,o.jsx)(c.Z,{item:e},e.title)),{}),(0,o.jsx)(i.ZP,{container:!0,justifyContent:"center",sx:{mb:e.spacing(4)},children:!k&&w.length>0&&(0,o.jsx)(p.Z,{variant:"outlined",startIcon:(0,o.jsx)(u.Z,{}),loadingPosition:"start",loading:z.loading,disabled:z.disabled,onClick:()=>handleLoadMore(),sx:{color:"grey.700",borderColor:"grey.700"},children:(0,o.jsx)("span",{children:"Load More"})})})]})]})})]}),(0,o.jsx)(d.default,{})]})}},7285:function(e,t,r){"use strict";function bodyParams(e){return Array.isArray(e)?e.map(e=>Object.entries(e).reduce((e,t)=>{let[r,o]=t;return null!=o&&""!==o&&(e[r]=o),e},{})):Object.entries(e).reduce((e,t)=>{let[r,o]=t;return null!=o&&""!==o&&(e[r]=o),e},{})}async function sendPost(e,t,r){let o,n;try{var i;o=await (i=bodyParams(t),async()=>{let t=await fetch("".concat("https://api.instaer.me","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",...r||{}},body:JSON.stringify(i)}),o=await t.json();if("SUCCESS"!==o.code){let e=Error(o.message);throw e.status=500,e}return o})()}catch(e){n={status:e.status,message:e.message}}return{result:o,error:n}}r.d(t,{D2:function(){return sendPost},D4:function(){return bodyParams}})}},function(e){e.O(0,[15,716,253,454,774,888,179],function(){return e(e.s=2774)}),_N_E=e.O()}]);